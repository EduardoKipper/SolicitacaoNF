<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário de Nota Fiscal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="index.js"></script>
  <link rel="stylesheet" href="style.css">

<body onload="limparCampos(), limparAssinatura(), mostrarModal('modalAssinatura')">
  <div class="container">
    <table class='table'>
      <tr class="align-middle">
        <td><img src="logo.png" alt="Logo da empresa" class="img-fluid" width="50px"></td>
        <td><h3>Rede Andrade</h3></td>
        <td class="text-end" width="70%"><a href="" class="active">Formulário NF</a></td>
      </tr>
    </table>

    <!-- Modal assinatura -->

    <div class="modal fade" id="modalAssinatura" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalAssinatura" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalNomeHotelInvalidoLabel">Bem vindo!</h5>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="nomeAssinatura" class="form-label"><b>*</b>Seu nome(Funcionário):</label>
              <input type="text" class="obrigatorio  form-control"
                placeholder="Digite aqui o seu nome" id="nomeAssinatura">
            </div>
            <div class="form-group">
              <label for="funcao" class="form-label"><b>*</b>Sua função(Cargo):</label>
              <select class="form-select" id="funcao" name="funcao">
                <option value="" disabled selected>Selecione sua função</option>
                <option value="Auxiliar Financeiro">Auxiliar Financeiro</option>
                <option value="Finaceiro Sênior">Finaceiro Sênior</option>
                <option value="Analista Financeiro">Analista Financeiro</option>
                <option value="Gerente Financeiro">Gerente Financeiro</option>
                <!-- <option value="Recepcionista - Hotel">Recepcionista - Hotel</option> -->
                <!-- <option value="Gerente Operacional - Hotel">Gerente Operacional - Hotel</option> -->
                <!-- <option value="Agente Comercial">Agente Comercial</option> -->
                <!-- <option value="Agente Comercial Sênior">Agente Comercial Sênior</option> -->
                <!-- <option value="Gerente Comercial">Gerente Comercial</option> -->
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" onclick="validarDadosAssinatura()">Próximo</button>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <form id="formDadosHotel" onsubmit="imprime()">
        <div class="d-flex justify-content-between mt-5">
          <h3 class="mb-3">Dados do Hotel</h3>
          <button type="button" class="btn btn-light" id="gerar-pdf" onclick="limparCampos()">Limpar Campos</button>
        </div>
        <div class="form-group">
          <label for="hotel" class="form-label"><b>*</b>Hotel:</label>
          <select class="form-select" id="hotel" name="hotel" required onchange="seleciona_tomador(), mostrar_endereco()">
            <option value="" disabled selected>Selecione um hotel</option>
            <option value="Amazônia - Manaus">Amazônia - Manaus</option>
            <option value="Barra - Salvador">Barra - Salvador</option>
            <option value="Bello Mare - Natal">Bello Mare - Natal</option>
            <option value="Boa Viagem - Recife">Boa Viagem - Recife</option>
            <option value="Braz - Curitiba">Braz - Curitiba</option>
            <option value="Canadá - Rio de Janeiro">Canadá - Rio de Janeiro</option>
            <option value="Casa Blanca - Fortaleza">Casa Blanca - Fortaleza</option>
            <option value="Cecomtur - Florianópolis">Cecomtur - Florianópolis</option>
            <option value="Comfort - Natal">Comfort - Natal</option>
            <option value="Coimbra - Fortaleza">Coimbra - Fortaleza</option>
            <option value="CWB - Curitiba">CWB - Curitiba</option>
            <option value="Docas - Belém">Docas - Belém</option>
            <option value="Estrela Centro - Porto Seguro">Estrela Centro - Porto Seguro</option>
            <option value="Estrela Praia - Porto Seguro">Estrela Praia - Porto Seguro</option>
            <option value="Express - Salvador">Express - Salvador</option>
            <option value="Floph - Florianópolis">Floph - Florianópolis</option>
            <option value="Goiânia - Goiânia">Goiânia - Goiânia</option>
            <option value="Guaíra - Curitiba">Guaíra - Curitiba</option>
            <option value="Hangar - Belém">Hangar - Belém</option>
            <option value="Lapa - Rio de Janeiro">Lapa - Rio de Janeiro</option>
            <option value="LG INN - Recife">LG INN - Recife</option>
            <option value="Luxor - Teresina">Luxor - Teresina</option>
            <option value="Mar Hotel - Salvador">Mar Hotel - Salvador</option>
            <option value="Mercado - Curitiba">Mercado - Curitiba</option>
            <option value="Navegantes - Recife">Navegantes - Recife</option>
            <option value="Onda Mar - Recife">Onda Mar - Recife</option>
            <option value="Ondina - Salvador">Ondina - Salvador</option>
            <option value="Pampulha - Belo Horizonte">Pampulha - Belo Horizonte</option>
            <option value="Piratininga - São Paulo">Piratininga - São Paulo</option>
            <option value="Plaza Recife - Recife">Plaza Recife - Recife</option>
            <option value="Plaza Salvador - Salvador">Plaza Salvador - Salvador</option>
            <option value="Porto Center - Porto Seguro">Porto Center - Porto Seguro</option>
            <option value="Rio Branco - Rio Branco">Rio Branco - Rio Branco</option>
            <option value="Rivieira - Salvador">Rivieira - Salvador</option>
            <option value="San Martin - Curitiba">San Martin - Curitiba</option>
            <option value="São Francisco - Curitiba">São Francisco - Curitiba</option>
            <option value="SLZ - São Luiz">SLZ - São Luiz</option>
            <option value="Sol Mar - João Pessoa">Sol Mar - João Pessoa</option>
            <option value="Terra Brasil - Porto Seguro">Terra Brasil - Porto Seguro</option>
            <option value="Vela Branca - Recife">Vela Branca - Recife</option>
            <option value="Vernon - Curitiba">Vernon - Curitiba</option>
            <option value="Vivaldi - Fóz do Iguaçu">Vivaldi - Fóz do Iguaçu</option>
          </select>
        </div>

        <h3 class="mt-5 mb-5">Nota será Emitida para:</h3>

        <select class="form-select" aria-label="Default select example" id="select_tomador"
          onchange="formatServiceTakerDoc(document.getElementById('tomadorDocumento')), seleciona_tomador(), mostrar_endereco()">
          <option value="Pessoa Física">Pessoa Física</option>
          <option value="Pessoa Jurídica">Pessoa Jurídica</option>
          <option value="Hospede Estrangeiro">Estrangeiro</option>
        </select>

        <br>

        <div class="form-group">
          <label for="tomadorDocumento" class="form-label"><b>*</b>Documento:</label>
          <input id="tomadorDocumento"  onblur="formatServiceTakerDoc(this)" oninput="proibeString(event), preencherDadosOnChange(document.getElementById('checkbox_preencher'))" maxlength="18" type="text" class="form-control"
            placeholder="Digite o documento do tomador" required>
        </div>

        <div class="form-group">
          <label for="tomadorRazao" class="form-label"><b>*</b>Razão social/Nome:</label>
          <input type="text" class="form-control" id="tomadorRazao" placeholder="Digite a razão social/nome"
            oninput="preencherDadosOnChange(document.getElementById('checkbox_preencher'))" required>
        </div>

        <div class="form-group form-check form-switch switch" i>
          <br>
          <input class="form-check-input" type="checkbox" role="switch" id="checkbox_endereco"
            onchange="mostrar_endereco()">
          <label class="form-check-label" for="checkbox_endereco">Nota Fiscal com endereço?</label>
        </div>

        <br>

        <div id="endereco" style="display: none;">
          <div class="form-group">
            <label for="tomadorCep" class="form-label"><b>*</b>CEP:</label>
            <input onblur="getCep(this)" oninput="proibeString(event)" type="text" maxlength="10" class="form-control" id="tomadorCep" placeholder="Digite o CEP" >
          </div>

          <div class="form-group">
            <label for="tomadorLogradouro" class="form-label"><b>*</b>Logradouro:</label>
            <input type="text" class="form-control" id="tomadorLogradouro" placeholder="Digite o endereço" >
          </div>

          <div class="row">

            <div class="form-group col">
              <label for="tomadorNumero" class="form-label">Número:</label>
              <input type="text" class="form-control" id="tomadorNumero" placeholder="Digite o endereço">
            </div>

            <div class="form-group col">
              <label for="tomadorComplemento" class="form-label">Complemento:</label>
              <input type="text" class="form-control" id="tomadorComplemento" placeholder="Digite o endereço">
            </div>

          </div>

          <div class="form-group">
            <label for="tomadorBairro" class="form-label"><b>*</b>Bairro:</label>
            <input type="text" class="form-control" id="tomadorBairro" placeholder="Digite o endereço" >
          </div>

          <div class="form-group">
            <label for="tomadorCidade" class="form-label"><b>*</b>Cidade:</label>
            <input type="text" class="form-control" id="tomadorCidade" placeholder="Digite a cidade" >
          </div>

          <div class="form-group">
            <label for="tomadorEstado" class="form-label"><b>*</b>Estado:</label>
            <input type="text" class="form-control" id="tomadorEstado" placeholder="Digite o estado" >
          </div>

          <div class="form-group" id="pais" style="display: none;">
            <label for="tomadorPais" class="form-label"><b>*</b>Pais:</label>
            <input type="text" class="form-control" id="tomadorPais" placeholder="Digite o Pais" >
          </div>

          <br>

        </div>

        <div class="form-group">
          <label for="tomadorEmail" class="form-label"><b>*</b>Email:</label>
          <input type="text" email class="obrigatorio form-control" id="tomadorEmail"
            placeholder="Digite o email para contato" onblur="validarEmail(this.value)" oninput="proibeSpace(event)">
        </div>

        <div class="form-group">
          <label for="tomadorTelefone" class="form-label">Telefone:</label>
          <input type="text" onblur="formatPhone(this)" oninput="proibeString(event)" class="form-control" id="tomadorTelefone"
            placeholder="Digite o telefone para contato (Whatsapp)">
        </div>

        <br>

        <hr>

        <h3 class="mt-5 mb-3">Dados da Hospedagem</h3>

        <div class="form-group">
          <label for="observacao" class="form-label">Observação:</label>
          <textarea type="text" class="form-control auto-resize" id="observacao"
            placeholder="Digite alguma observação (Opcional)"></textarea>
        </div>

        <br>

        <div class="form-group">
          <label for="hospedeCpf" class="form-label"><b>*</b>Documento do Hóspede:</label>
          <input type="text" onblur="formatServiceTakerDoc(this)" oninput="proibeString(event)" class="obrigatorio form-control" maxlength="14" placeholder="Digite o CPF do hóspede"
            id="hospedeCpf" disabled >
        </div>

        <div class="form-group">
          <label for="hospedeNome" class="form-label"><b>*</b>Nome do Hóspede:</label>
          <input type="text" class="obrigatorio  form-control" name="nome-hospede[]"
            placeholder="Digite o nome do hóspede" id="hospedeNome" disabled >
        </div>

        <br>

        <div class="form-check form-switch" id="preencher">
          <input class="form-check-input" type="checkbox" id="checkbox_preencher"
            onchange="preencherDadosOnChange(this)" checked>
          <label class="form-check-label" for="checkbox_preencher">Usar o documento do tomador de serviços</label>
        </div>

        <!-- Modal para nome do hotel inválido -->
        <div class="modal fade" id="modalNomeHotelInvalido" tabindex="-1" aria-labelledby="modalNomeHotelInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalNomeHotelInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Selecione o hotel da hospedagem.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para documento do tomador inválido -->
        <div class="modal fade" id="modalDocumentoTomadorInvalido" tabindex="-1" aria-labelledby="modalDocumentoTomadorInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalDocumentoTomadorInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Insira o Documento do Tomador de Serviços.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para CPF/CNPJ inválido -->
        <div class="modal fade" id="modalCpfCnpjInvalido" tabindex="-1" aria-labelledby="modalCpfCnpjInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalCpfCnpjInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Informe um CPF ou CNPJ válido.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para razão social do tomador inválida -->
        <div class="modal fade" id="modalRazaoSocialInvalida" tabindex="-1" aria-labelledby="modalRazaoSocialInvalidaLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalRazaoSocialInvalidaLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Insira o Nome ou Razão Social do Tomador de Serviços.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para endereço do tomador inválido -->
        <div class="modal fade" id="modalEnderecoInvalido" tabindex="-1" aria-labelledby="modalEnderecoInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalEnderecoInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Insira um endereço válido para o Tomador de Serviços.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de E-mail Inválido -->
        <div class="modal fade" id="modalEmailInvalido" tabindex="-1" aria-labelledby="modalEmailInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalEmailInvalidoLabel">OPS... Não</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                O e-mail informado é inválido. Verifique se o formato está correto.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para CPF do hóspede inválido -->
        <div class="modal fade" id="modalCpfHospedeInvalido" tabindex="-1" aria-labelledby="modalCpfHospedeInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalCpfHospedeInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Informe um CPF válido para o hóspede.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para nome do hóspede inválido -->
        <div class="modal fade" id="modalNomeHospedeInvalido" tabindex="-1" aria-labelledby="modalNomeHospedeInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalNomeHospedeInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Insira o Nome ou Razão Social do hóspede.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para número de estadas inválido -->
        <div class="modal fade" id="modalNumeroEstadasInvalido" tabindex="-1" aria-labelledby="modalNumeroEstadasInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalNumeroEstadasInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Nenhuma estada armazenada.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Modal de Valor Total Inválido -->
        <div class="modal fade" id="modalValorTotalInvalido" tabindex="-1" aria-labelledby="modalValorTotalInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalValorTotalInvalidoLabel">OPS... Não</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                O valor total da nota fiscal deve ser maior que 0. Verifique o valor informado.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>



        <br>

        <!-- Link para abrir o modal -->
        <div class="d-grid">
          <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modalEstada">
            Adicionar Estada
          </button>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="modalEstada" tabindex="-1" aria-labelledby="modalEstadaLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modalEstadaLabel">Adicionar Estada</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <!-- Formulário do modal -->
                <div class="form-group">
                  <label for="estada" class="form-label"><b>*</b>Nr Estada:</label>
                  <input type="text" class="form-control" placeholder="Digite o número da Estada" id="estada" oninput="proibeString(event)">
                </div>
                <div class="row">
                  <div class="form-group col-md-6">
                    <label for="checkIn" class="form-label"><b>*</b>Data de Check-in:</label>
                    <input type="date" class="form-control" id="checkIn" onblur="calcularDiarias()">
                  </div>
                  <div class="form-group col-md-6">
                    <label for="checkOut" class="form-label"><b>*</b>Data de Check-out:</label>
                    <input type="date" class="form-control" id="checkOut" onblur="calcularDiarias()">
                  </div>
                </div>
                <div class="form-group">
                  <label for="valorDiaria" class="form-label">Valor da Diária:</label>
                  <div class="input-group">
                    <span class="input-group-text">R$</span>
                    <!-- Resolver -->
                    <input type="number" class="form-control formatted-number" id="valorDiaria" placeholder="Digite o valor unitário da(as) diária(as)" >
                    <button type="button" class="btn btn-secondary" title="Adicionar Quarto" onclick="adicionaDiaria()" >+</button>
                  </div>
                  <div id="diariasExtras"></div>
                </div>
                <div class="form-group">
                  <label for="quantidadeDiarias" class="form-label">Quantidade de Diárias:</label>
                  <input type="number" class="form-control" placeholder="Quantidade de diárias" id="quantidadeDiarias" readonly>
                </div>
                <div class="form-group">
                  <label for="estacionamento" class="form-label">Valor total do Estacionamento:</label>
                  <div class="input-group">
                    <span class="input-group-text">R$</span>
                    <input type="number" class="form-control formatted-number" placeholder="Valor total do Estacionamento" id="estacionamento">
                  </div>
                </div>
                <div class="form-group">
                  <label for="consumo" class="form-label">Valor total do Consumo:</label>
                  <div class="input-group">
                    <span class="input-group-text">R$</span>
                    <input type="number" class="form-control formatted-number" placeholder="Valor total do Consumo" id="consumo">
                  </div>
                </div>
                <div class="form-check">
                  <br>
                  <input type="checkbox" class="form-check-input" id="checkbox_dividirNota" onchange="mostrarCampoDividirNota()">
                  <label class="form-check-label" for="checkbox_dividirNota">Dividir valor total da estada</label>
                </div>
                <div id="dividirNota" style="display: none;">
                  <label for="numeroHospedes" class="form-label">Número de Hóspedes:</label>
                  <input type="number" class="form-control" id="numeroHospedes" placeholder="Digite a quantidade de hóspedes para dividir o valor da estada">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                <button type="button" class="btn btn-primary" onclick="armazenarDadosHospedagem()">Salvar Dados da estada</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para estada inválida -->
        <div class="modal fade" id="modalEstadaInvalida" tabindex="-1" aria-labelledby="modalEstadaInvalidaLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalEstadaInvalidaLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Por favor, insira uma estada válida.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para datas inválidas -->
        <div class="modal fade" id="modalDatasInvalidas" tabindex="-1" aria-labelledby="modalDatasInvalidasLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalDatasInvalidasLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Por favor, preencha as datas de check-in e check-out.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para valores inválidos -->
        <div class="modal fade" id="modalValoresInvalidos" tabindex="-1" aria-labelledby="modalValoresInvalidosLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger">
                <h5 class="modal-title" id="modalValoresInvalidosLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p>O valor total da estada deve ser maior que 0.</p>
                <p>Preencha ao menos um valor.</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para valores negativos -->
        <div class="modal fade" id="modalValoresNegativos" tabindex="-1" aria-labelledby="modalValoresNegativosLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalValoresNegativosLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Os valores não podem ser negativos.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal para número de hóspedes inválido -->
        <div class="modal fade" id="modalNumeroHospedesInvalido" tabindex="-1" aria-labelledby="modalNumeroHospedesInvalidoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-danger">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalNumeroHospedesInvalidoLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Número de hóspedes não pode ser menor que 1.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Datas Inválidas -->
        <div class="modal fade" id="modalDatasInvalidas" tabindex="-1" aria-labelledby="modalDatasInvalidasLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalDatasInvalidasLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Por favor, insira datas válidas.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Diferença de Datas Inválida -->
        <div class="modal fade" id="modalDiferencaNegativa" tabindex="-1" aria-labelledby="modalDiferencaNegativaLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalDiferencaNegativaLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                A diferença entre as diárias não pode ser menor que 1 dia.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Aviso de Diárias Excessivas -->
        <div class="modal fade" id="modalDiariasExcessivas" tabindex="-1" aria-labelledby="modalDiariasExcessivasLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title" id="modalDiariasExcessivasLabel">Aviso</h5>
              </div>
              <div class="modal-body">
                O valor das diárias ultrapassou 30 dias. deseja continuar.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="recusarDiarias()">Recusar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceitar</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Estada Salva com Sucesso -->
        <div class="modal fade" id="modalEstadaSalva" tabindex="-1" aria-labelledby="modalEstadaSalvaLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header bg-success text-light">
                <h5 class="modal-title" id="modalEstadaSalvaLabel">Sucesso</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                A estada foi salva com sucesso!
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                <!-- Adicione um botão adicional aqui, se necessário -->
                <!-- <button type="button" class="btn btn-primary">Outra Ação</button> -->
              </div>
            </div>
          </div>
        </div>


        <br>

        <table id="listaHospedagem" class="table table-striped table-bordered my-3">
          <thead>
            <tr>
              <th>Estada</th>
              <th>Data de Check-in</th>
              <th>Data de Check-out</th>
              <th>Valor Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <!-- As linhas da tabela serão adicionadas dinamicamente aqui -->
          </tbody>
        </table>

        <br>

        <div class="form-group">
          <label for="valorTotal" class="form-label">Valor Total da Nota Fiscal:</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">R$</span>
            </div>
            <input type="text" class="obrigatorio form-control formatted-number"
              placeholder="Valor total da nota fiscal" id="valorTotal" >
          </div>
        </div>

        <br>

        <div class="d-grid">
          <button type="button" class="btn btn-primary" id="gerar-pdf" onclick="imprime()">Salvar Solicitação</button>
          <br>
          <button type="button" class="btn btn-light" id="gerar-pdf" onclick="limparCampos()">Limpar Campos</button>
        </div>
        
        <br>
        <br>
      </form>
    </div>



  </div>

</body>

<script>
  // Evento de blur para formatar número ao sair do campo
  document.addEventListener('blur', function (event) {
    const target = event.target;
    if (target.classList.contains('formatted-number')) {
      returnCurrencyFormat(target.id);
    }
  }, true); // Captura eventos na fase de propagação
  
  // Evento de input para limitar o número de casas decimais enquanto o usuário digita
  document.addEventListener('input', function (event) {
    const target = event.target;
    if (target.classList.contains('formatted-number')) {
      let value = target.value.replace(',', '.');
      let parts = value.split('.');
  
      if (parts.length > 1 && parts[1].length > 2) {
        target.value = parseFloat(value).toFixed(2).replace('.', ',');
      }
    }
  });
</script>

</html>